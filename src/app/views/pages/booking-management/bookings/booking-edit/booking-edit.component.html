<kt-portlet>
	<kt-portlet-header [sticky]="true" [title]="getComponentTitle()" [class]="'kt-portlet__head--lg'" [viewLoading$]="loading$">
		<ng-container ktPortletTools>
			<a (click)="goBackWithoutId()" class="btn btn-secondary kt-margin-r-10" mat-raised-button matTooltip="Back to the list">
				<i class="la la-arrow-left"></i>
				<span class="kt-hidden-mobile">Back</span>
			</a>
			<!--<a href="javascript:;" class="btn btn-secondary kt-margin-r-10" (click)="reset()" [disabled]="selectedTab !== 0" mat-raised-button matTooltip="Reset changes">
				<i class="la la-cog"></i>
				<span class="kt-hidden-mobile">Reset</span>
			</a>-->
			<a href="javascript:;" class="btn btn-primary kt-margin-r-10" color="primary" (click)="onSumbit(false)" mat-raised-button matTooltip="Save & Continue">
				<i class="la la-save"></i>
				<span class="kt-hidden-mobile">Save</span>
			</a>
			<!--<a href="javascript:;" class="btn kt-margin-r-10" color="secondary" (click)="onSumbit(false)" mat-raised-button matTooltip="Clone">
				<i class="la la-clone"></i>
				<span class="kt-hidden-mobile">Clone</span>
			</a>
			<a href="javascript:;" class="btn kt-margin-r-10"  (click)="onSumbit(false)" mat-raised-button matTooltip="Cretae Cycle">
				<i class="la la-recycle"></i>
				<span class="kt-hidden-mobile">Create Cycle</span>
			</a>-->
			<button mat-icon-button [matMenuTriggerFor]="menu" color="primary">
				<mat-icon>more_vert</mat-icon>
			</button>
			<mat-menu #menu="matMenu">
				<button mat-menu-item (click)="createInvoice()" *ngIf="booking && booking.id && booking.invoiceId == null">
					<i class="la la-book"></i>
					<span class="ml-2">Create Invoice</span>
				</button>
				<button mat-menu-item (click)="addToExistingInvoice()" *ngIf="booking && booking.id && booking.invoiceId == null">
					<i class="la la-plus-square-o"></i>
					<span class="ml-2">Add to Existing Invoice</span>
				</button>
				<button mat-menu-item (click)="cloneBooking()">
					<i class="la la-clone"></i>
					<span class="ml-2">Clone</span>
				</button>
				<button mat-menu-item (click)="createCycle()" *ngIf="!booking?.cycle">
					<i class="la la-recycle"></i>
					<span class="ml-2">Create a Cycle</span>
				</button>
				<!--<button mat-menu-item color="primary" (click)="onSumbit(true)">Save & Exit</button>
				<button mat-menu-item color="primary" (click)="onSumbit(false)">Save & Continue</button>-->
			</mat-menu>
		</ng-container>
	</kt-portlet-header>
	<style>

	</style>
	<mat-tab-group [(selectedIndex)]="selectedTab" (selectedTabChange)="tabChanged($event)">
		<mat-tab label="Booking Info">
			<ng-template matTabContent>
				<kt-portlet-body class="pt-0">
					<div *ngIf="booking">
						<form [formGroup]="bookingForm" class="kt-form kt-form--group-seperator-dashed">

							<kt-alert *ngIf="hasFormErrors" type="warn" [showCloseButton]="true" [duration]="10000" (close)="onAlertClose($event)">
								Oh snap! Change a few things up and try submitting again.
							</kt-alert>

							<div class="kt-form__section kt-form__section--first">
								<div class="kt-form__group pt-1">
									<div class="form-group kt-form__group row" *ngIf="booking.id">
										<div class="col-md-3 kt-margin-bottom-20-mobile pt-3">
											<label class="font-500">Booking NÂ° : </label> <span class="text-capitalize pl-1">{{booking.id}}</span>
										</div>
										<div class="col-md-3 kt-margin-bottom-20-mobile pt-3">
											<label class="font-500">Created : </label> {{booking.createDate | date:'dd/MM/yyyy'}}
										</div>
										<div class="col-md-3 kt-margin-bottom-20-mobile pt-3">
											<label class="font-500">Last Changed : </label> {{booking.updateDate | date:'dd/MM/yyyy'}}
										</div>
										<div class="col-md-3 kt-margin-bottom-20-mobile pt-3">
											<label class="font-500">Assigned To : </label> <span class="text-capitalize">{{booking.assignedTo}}</span>
										</div>

									</div>
									<div class="row">
										<div class="col-md-12 heading-wrapper mt-0">
											<div class="title-wrapper">
												<h5>Booking Information</h5>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Booking name" #bookingName formControlName="bookingName" readonly>
												<!--<button mat-button *ngIf="bookingName.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('bookingName').setValue('')">
													<mat-icon>close</mat-icon>
												</button>-->
												<mat-error>
													Booking Name is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Booking Name</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div class="row">
												<div [ngClass]="{'col-md-10': booking && booking.customerId, 'col-md-12': !(booking && booking.customerId)}">
													<mat-form-field class="mat-form-field-fluid">
														<input matInput placeholder="Customer name" #customerName formControlName="customerName" readonly="readonly">
														<!--<button mat-button *ngIf="customerName.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('customerName').setValue('')">
															<mat-icon>close</mat-icon>
														</button>-->
														<mat-error>
															Customer Name is
															<strong>required</strong>
														</mat-error>
														<mat-hint align="start">
															<strong class="required-star">Customer Name</strong>
														</mat-hint>
													</mat-form-field>
												</div>
												<div class="col-md-2" *ngIf="booking && booking.customerId">
													<a class="customer-link" [routerLink]="['/customer-management/customers/edit/', booking.customerId]" title="Edit customer"><i class="la la-eye la-2x"></i></a>
												</div>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div class="row">
												<div class="col-md-10" [ngClass]="{'col-md-9': booking && booking.invoiceEntityId, 'col-md-12': !(booking && booking.invoiceEntityId)}">
													<mat-form-field class="mat-form-field-fluid">
														<input matInput placeholder="Invoice entity name" #invoiceEntityName formControlName="invoiceEntityName" readonly="readonly">
														<!--<button mat-button *ngIf="invoiceEntityName.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('invoiceEntityName').setValue('')">
															<mat-icon>close</mat-icon>
														</button>-->
														<mat-error>
															Invoice Entity Name is
															<strong>required</strong>
														</mat-error>
														<mat-hint align="start">
															<strong>Invoice Entity Name</strong>
														</mat-hint>
													</mat-form-field>
												</div>
												<div class="col-md-2" *ngIf="booking && booking.invoiceEntityId">
													<a class="customer-link" [routerLink]="['/invoice-entity-management/invoice-entities/edit/', booking.invoiceEntityId]" title="Edit IE"><i class="la la-eye la-2x"></i></a>
												</div>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'bookingStatusId'">
													<mat-option *ngFor="let val of bookingStatusOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-hint align="start">
													<strong class="required-star"> Booking Status </strong>
												</mat-hint>
												<mat-error>
													Booking Status is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'bookingTypeId'">
													<mat-option *ngFor="let val of bookingTypesForFilter" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-hint align="start">
													<strong class="required-star"> Booking Type </strong>
												</mat-hint>
												<mat-error>
													Booking Type is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput
													   [owlDateTime]="bookingDatePicker"
													   [owlDateTimeTrigger]="bookingDatePicker"
													   [selectMode]="'single'"
													   #bookingDate
													   placeholder=""
													   [formControlName]="'bookingDate'"
													   readonly="readonly"
													   useValueAsDate>
												<owl-date-time #bookingDatePicker></owl-date-time>
												<button mat-button *ngIf="bookingDate.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('bookingDate').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-hint align="start">
													<strong> Booking Date </strong>
												</mat-hint>
												<mat-error>
													<span *ngIf="this.bookingForm.get('bookingDate').errors?.required">
														Booking Date
														<strong>required</strong>
													</span>
												</mat-error>
											</mat-form-field>
										</div>
										
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div class="row pt-2">
												<div class="col-md-4 font-500">Visit All Day :</div>
												<div class="col-md-8">
													<mat-checkbox class="example-margin" [formControlName]="'isAllDayVisit'"></mat-checkbox>
												</div>
											</div>
											<div class="row">
												<div class="col-md-4 pt-4"><span class="required-star font-500">Visit Starts:</span> </div>
												<div class="col-md-8">
													<mat-form-field class="mat-form-field-fluid">
														<input matInput [owlDateTime]="visitStartDatePicker"
															   [owlDateTimeTrigger]="visitStartDatePicker"
															   [selectMode]="'single'"
															   #visitStartDate
															   placeholder=""
															   [formControlName]="'visitStartDate'"
															   readonly="readonly"
															   (dateTimeChange)="checkDates()"
															   useValueAsDate>
														<owl-date-time #visitStartDatePicker></owl-date-time>
														<button mat-button *ngIf="visitStartDate.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitStartDate').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-error>
															Visit Start Date
															<strong>required</strong>
														</mat-error>
													</mat-form-field>
												</div>
											</div>

											<div class="row">
												<div class="col-md-4 pt-4">
													<span class="required-star font-500">Visit Ends: </span>
												</div>

												<div class="col-md-8">
													<mat-form-field class="mat-form-field-fluid">
														<input matInput
															   [owlDateTime]="visitEndDatePicker"
															   [owlDateTimeTrigger]="visitEndDatePicker"
															   [selectMode]="'single'"
															   #visitEndDate
															   placeholder=""
															   [formControlName]="'visitEndDate'"
															   readonly="readonly"
															   useValueAsDate>
														<owl-date-time #visitEndDatePicker></owl-date-time>
														<button mat-button *ngIf="visitEndDate.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitEndDate').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-error>
															<span *ngIf="this.bookingForm.get('visitEndDate').errors?.required">
																Visit End Date
																<strong>required</strong>
															</span>
														</mat-error>

													</mat-form-field>
													<p *ngIf="this.bookingForm.get('visitEndDate').errors?.required== null &&  this.bookingForm.hasError('dates')" class="mat-error">
														Visit End Date
														<strong>should be greater than Visit Start Date</strong>
													</p>
												</div>
											</div>
										</div>

										<div class="col-md-12"></div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<label class="font-500">Cycle: </label> {{booking.cycle}}
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<label class="font-500">Cycle Number: </label> {{booking.cycleNumber}}
										</div>
									</div>

									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Customer Information</h5>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Contact phone" #phoneNumber formControlName="phoneNumber">
												<button mat-button *ngIf="phoneNumber.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('phoneNumber').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-hint align="start">
													<strong class="required-star">Contact Phone</strong>
												</mat-hint>
												<mat-error *ngIf="bookingForm.get('phoneNumber').errors?.required">
													Contact phone is
													<strong>required </strong>
												</mat-error>
												<mat-error *ngIf="bookingForm.get('phoneNumber').errors?.pattern">
													Contact phone should start with
													<strong><i class="la la-plus"></i> sign and numbers only </strong>
												</mat-error>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Phone 2" #phone2 formControlName="phone2">
												<button mat-button *ngIf="phone2.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('phone2').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-hint align="start">
													<strong>Phone 2</strong>
												</mat-hint>
												<mat-error *ngIf="bookingForm.get('phone2').errors?.pattern">
													Phone 2 should start with
													<strong><i class="la la-plus"></i> sign and numbers only </strong>
												</mat-error>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Phone 2 owner" #phone2Owner formControlName="phone2Owner">
												<button mat-button *ngIf="phone2Owner.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('phone2Owner').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Phone 2 owner is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Phone 2</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div class="row">
												<div class="col-md-8">
													<mat-form-field class="mat-form-field-fluid">
														<input matInput placeholder="Email" #email formControlName="email">
														<button mat-button *ngIf="email.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('email').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-error *ngIf="bookingForm.get('email').errors?.required">
															Email
															<strong>required</strong>
														</mat-error>
														<mat-error *ngIf="bookingForm.get('email').errors?.email">
															Invalid
															<strong>Email</strong>
														</mat-error>
														<mat-hint align="start">
															<strong class="required-star">Email</strong>
														</mat-hint>
													</mat-form-field>
												</div>
												<div class="col-md-4">
													<button class="btn btn-primary btn-sm">Send Email</button>
												</div>
											</div>
										</div>

										<!--<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput [matDatepicker]="dateOfBirthPicker" #dateOfBirth placeholder="Date of birth" [formControlName]="'dateOfBirth'">
												<button mat-button *ngIf="dateOfBirth.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('dateOfBirth').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-datepicker-toggle matSuffix [for]="dateOfBirthPicker"></mat-datepicker-toggle>
												<mat-datepicker #dateOfBirthPicker></mat-datepicker>
												<mat-error>
													Date of birth
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Date of Birth</strong>
												</mat-hint>
											</mat-form-field>
										</div>-->
										<!--<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text" placeholder="Country of birth" aria-label="Number" matInput #countryOfBirthId [matAutocomplete]="countryAuto" [formControlName]="'countryOfBirthId'">
												<button mat-button *ngIf="countryOfBirthId.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('countryOfBirthId').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-autocomplete autoActiveFirstOption #countryAuto="matAutocomplete"
																  [displayWith]="displayFn">
													<mat-option *ngFor="let t of filteredCountries | async" [value]="t">
														{{t.value}}
													</mat-option>
												</mat-autocomplete>
												<mat-hint align="start">
													<strong>Country of Birth </strong>
												</mat-hint>
												<mat-error>
													Country of Birth is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>-->
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text"
													   placeholder="Visit language"
													   aria-label="Number"
													   matInput #visitLanguageId
													   [matAutocomplete]="visitLanguageAuto"
													   [formControlName]="'visitLanguageId'" (focusout)="controlFocusout('visitLanguageId')">
												<button mat-button *ngIf="visitLanguageId.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitLanguageId').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-autocomplete autoActiveFirstOption #visitLanguageAuto="matAutocomplete"
																  [displayWith]="displayFn">
													<mat-option *ngFor="let t of filteredLanguages | async" [value]="t">
														{{t.value}}
													</mat-option>
												</mat-autocomplete>
												<mat-hint align="start">
													<strong class="required-star">Visit Language </strong>
												</mat-hint>
												<mat-error>
													Visit Language is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<p class="m-0">&nbsp;</p>
											<label class="font-500">Patient Age (years) : </label> {{this.bookingForm.get('patientAge').value}}
										</div>


										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Name of person requesting visit" #visitRequestingPerson formControlName="visitRequestingPerson">
												<button mat-button *ngIf="visitRequestingPerson.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitRequestingPerson').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Name of Person Requesting Visit is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Name of Person Requesting Visit</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'visitRequestingPersonRelationId'">
													<mat-option *ngFor="let val of relationshipsForFilter" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-hint align="start">
													<strong> Visit Requesting Person Relationship </strong>
												</mat-hint>
												<mat-error>
													Visit Requesting Person Relationship is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>
									</div>

									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Visit Address Informaton</h5>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Visit street name" #visitStreetName formControlName="visitStreetName">
												<button mat-button *ngIf="visitStreetName.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitStreetName').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Visit Street Name is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Visit Street Name</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Visit post code" #visitPostCode formControlName="visitPostCode">
												<button mat-button *ngIf="visitPostCode.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitPostCode').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Visit Post Code is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Visit Post Code</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text"
													   placeholder="Visit city/town"
													   aria-label="Number"
													   #visitCity
													   matInput
													   [matAutocomplete]="visitCityAuto"
													   [formControlName]="'visitCity'" (focusout)="controlFocusout('visitCity')">
												<button mat-button *ngIf="visitCity.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitCity').setValue('')">
													<mat-icon>close</mat-icon>
												</button>											
												<mat-error>
													Visit City / Town is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Visit City / Town </strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text"
													   placeholder="Visit country"
													   aria-label="Number"
													   #visitCountryId matInput
													   [matAutocomplete]="visitCountryIdAuto"
													   [formControlName]="'visitCountryId'" (focusout)="controlFocusout('visitCountryId')">
												<button mat-button *ngIf="visitCountryId.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitCountryId').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-autocomplete autoActiveFirstOption #visitCountryIdAuto="matAutocomplete"
																  [displayWith]="displayFn">
													<mat-option *ngFor="let t of filteredVisitCountries | async" [value]="t">
														{{t.value}}
													</mat-option>
												</mat-autocomplete>
												<mat-error>
													Visit Country is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Visit Country </strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'buildingTypeId'">
													<mat-option *ngFor="let val of buildingTypeOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-error>
													Visit Building Type is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Visit Building Type </strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Buzzer" #buzzer formControlName="buzzer">
												<button mat-button *ngIf="buzzer.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('buzzer').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Buzzer is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Buzzer</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Flat number" #flatNumber formControlName="flatNumber">
												<button mat-button *ngIf="flatNumber.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('flatNumber').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Flat Number is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Flat Number</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Floor number" #floor formControlName="floor">
												<button mat-button *ngIf="floor.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('floor').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Floor number is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Floor Number</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'visitVenueId'">
													<mat-option *ngFor="let val of visitVenueOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-hint align="start">
													<strong class="required-star"> Visit Venue </strong>
												</mat-hint>
												<mat-error>
													Visit Venue is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea rows="2" matInput placeholder="Visit venue detail" #visitVenueDetail formControlName="visitVenueDetail"></textarea>
												<button mat-button *ngIf="visitVenueDetail.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('visitVenueDetail').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Venue Detail is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Venue Detail</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea rows="2" matInput placeholder="Address notes" #addressNotes formControlName="addressNotes"></textarea>
												<button mat-button *ngIf="addressNotes.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('addressNotes').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Address Notes are
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Address Notes</strong>
												</mat-hint>
											</mat-form-field>
										</div>
									</div>

									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Home Address Information</h5>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Home street name" #homeStreetName formControlName="homeStreetName">
												<button mat-button *ngIf="homeStreetName.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('homeStreetName').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Home Street Name is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Home Street Name</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Home post code" #homePostCode formControlName="homePostCode">
												<button mat-button *ngIf="homePostCode.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('homePostCode').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Home Post Code is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Home Post Code</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text"
													   placeholder="Home city/town"
													   aria-label="Number"
													   #homeCity matInput
													   [formControlName]="'homeCity'" (focusout)="controlFocusout('homeCity')">
												<button mat-button *ngIf="homeCity.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('homeCity').setValue('')">
													<mat-icon>close</mat-icon>
												</button>												
												<mat-error>
													Home City / Town is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Home City/ / Town </strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text"
													   placeholder="Home country"
													   aria-label="Number"
													   #homeCountryId matInput
													   [matAutocomplete]="homeCountryAuto"
													   [formControlName]="'homeCountryId'" (focusout)="controlFocusout('homeCountryId')">
												<button mat-button *ngIf="homeCountryId.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('homeCountryId').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-autocomplete autoActiveFirstOption #homeCountryAuto="matAutocomplete"
																  [displayWith]="displayFn">
													<mat-option *ngFor="let t of filteredHomeCountries | async" [value]="t">
														{{t.value}}
													</mat-option>
												</mat-autocomplete>
												<mat-hint align="start">
													<strong class="required-star">Home Country </strong>
												</mat-hint>
												<mat-error>
													Home Country is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>
									</div>

									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Payment and Invoicing</h5>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'paymentMethodId'">
													<mat-option *ngFor="let val of paymentMethodsOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-error>
													Payment Method is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong> Payment Method </strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'paymentStatusId'">
													<mat-option *ngFor="let val of paymentStatusOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-error>
													Payment Status is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star"> Payment Status </strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Payment Concluded:</div>
											<mat-radio-group class="example-radio-group" formControlName="paymentConcludedId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput [matDatepicker]="paymentArrivalDatePicker" #paymentArrivalDate placeholder="Payment arrival date" [formControlName]="'paymentArrivalDate'">
												<button mat-button *ngIf="paymentArrivalDate.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('paymentArrivalDate').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-datepicker-toggle matSuffix [for]="paymentArrivalDatePicker"></mat-datepicker-toggle>
												<mat-datepicker #paymentArrivalDatePicker></mat-datepicker>
												<mat-error>
													Payment Arrival Date
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Payment Arrival Date</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>CC Authorization:</div>
											<mat-radio-group class="example-radio-group" formControlName="ccAuthorizationId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Cash Confirmation Mail:</div>
											<mat-radio-group class="example-radio-group" formControlName="cashConfirmationMailId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Bank Transfer Receipt:</div>
											<mat-radio-group class="example-radio-group" formControlName="bankTransfterReceiptId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="CC owner info" formControlName="ccOwner" maxlength="250">
												<mat-error>
													CC Owner info is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>CC Owner Info</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Cash return info" formControlName="cashReturn" maxlength="250">
												<mat-error>
													Cash Return info is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													Please enter
													<strong>Cash Return Info</strong>
												</mat-hint>
											</mat-form-field>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile">
											<mat-form-field class="mat-form-field-fluid">
												<textarea matInput rows="2" placeholder="Notes in payment" formControlName="notesOnPayment"></textarea>
												<mat-hint align="start">
													<strong>Notes in Payment </strong>
												</mat-hint>
												<mat-error>
													Notes in Payment are
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Pro Availability Asked:</div>
											<mat-radio-group class="example-radio-group" formControlName="proAvailabilityAskedId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Pt. Called for Appointment:</div>
											<mat-radio-group class="example-radio-group" formControlName="ptCalledForAppointmentId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>IM to Pro.:</div>
											<mat-radio-group class="example-radio-group" formControlName="imToProId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Mail to Pt.:</div>
											<mat-radio-group class="example-radio-group" formControlName="mailToPtId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput placeholder="Feedback from pro." #feedbackFromPro formControlName="feedbackFromPro" maxlength="250">
												<button mat-button *ngIf="feedbackFromPro.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('feedbackFromPro').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Feedback From Pro. is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Feedback From Pro.</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'reportDeliveredId'">
													<mat-option *ngFor="let val of reportDeliveredOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-hint align="start">
													<strong>Report Delivered </strong>
												</mat-hint>
												<mat-error>
													Report Delivered is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>Insurance Covered:</div>
											<mat-radio-group class="example-radio-group" formControlName="insuranceCoverId">
												<mat-radio-button class="example-radio-button" value="0">No</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Yes</mat-radio-button>
											</mat-radio-group>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Patient discount" #patientDiscount formControlName="patientDiscount" (change)="updateAccountings()">
												<button mat-button *ngIf="patientDiscount.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('patientDiscount').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Patient Discount is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Patient Discount</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Pro. discount" #proDiscount formControlName="proDiscount">
												<button mat-button *ngIf="proDiscount.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('proDiscount').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Pro. Discount is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Pro. Discount</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea matInput rows="2" placeholder="Invoicing notes" #invoicingNotes formControlName="invoicingNotes"></textarea>
												<button mat-button *ngIf="invoicingNotes.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('invoicingNotes').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Invoicing Notes is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Invoicing Notes</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput [matDatepicker]="invoiceDueDatePicker" #invoiceDueDate placeholder="Invoice date" [formControlName]="'invoiceDueDate'" readonly="readonly">
												<button mat-button *ngIf="invoiceDueDate.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('invoiceDueDate').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-datepicker-toggle matSuffix [for]="invoiceDueDatePicker"></mat-datepicker-toggle>
												<mat-datepicker #invoiceDueDatePicker></mat-datepicker>
												<mat-error>
													Invoice Due Date
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Invoice Due Date</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-20-mobile pt-5">
											<label>Invoice Number: </label> {{booking.invoiceNumber}}
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<mat-select [formControlName]="'addToAccountingId'">
													<mat-option *ngFor="let val of addedToAccountOptions" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-hint align="start">
													<strong>Added to Accounting </strong>
												</mat-hint>
												<mat-error>
													Added to Accounting is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Blood Tests</h5>
											</div>
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput [matDatepicker]="dateOnPrescriptionPicker" #dateOnPrescription placeholder="Prescription date" [formControlName]="'dateOnPrescription'">
												<button mat-button *ngIf="dateOnPrescription.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('dateOnPrescription').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-datepicker-toggle matSuffix [for]="dateOnPrescriptionPicker"></mat-datepicker-toggle>
												<mat-datepicker #dateOnPrescriptionPicker></mat-datepicker>
												<mat-error>
													Prescription Date
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Prescription Date</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<mat-select [formControlName]="'labId'">
													<mat-option *ngFor="let val of labsForFilter" [value]="val.id">
														{{ val.value }}
													</mat-option>
												</mat-select>
												<mat-error>
													Lab info is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Lab Info</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Vials info" #vials formControlName="vials">
												<button mat-button *ngIf="vials.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('vials').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Vials info is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Vials Info</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Prescription number" #repeadPrescriptionNumber formControlName="repeadPrescriptionNumber">
												<button mat-button *ngIf="repeadPrescriptionNumber.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('repeadPrescriptionNumber').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Prescription Number is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Prescription Number</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea matInput rows="2" placeholder="Notes" #notes formControlName="notes"></textarea>
												<button mat-button *ngIf="notes.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('notes').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Notes are
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Notes</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Private fee" #privateFee formControlName="privateFee">
												<button mat-button *ngIf="privateFee.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('privateFee').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Private Fee is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Private Fee</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="number" placeholder="Ticket fee" #ticketFee formControlName="ticketFee">
												<button mat-button *ngIf="ticketFee.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('ticketFee').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Ticket Fee is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Ticket Fee</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="text" placeholder="Exemption code" #excemptionCode formControlName="excemptionCode">
												<button mat-button *ngIf="excemptionCode.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('excemptionCode').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Exemption Code is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Exemption Code</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div>NHS/Private:</div>
											<mat-radio-group class="example-radio-group" formControlName="nhsOrPrivateId">
												<mat-radio-button class="example-radio-button" value="0">NHS</mat-radio-button>
												<mat-radio-button class="example-radio-button" value="1">Private</mat-radio-button>
											</mat-radio-group>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Visit Details</h5>
											</div>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea matInput rows="2" placeholder="Details" #details formControlName="details"></textarea>
												<button mat-button *ngIf="details.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('details').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Details are
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Details</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea matInput rows="2" placeholder="Diagnosis info" #diagnosis formControlName="diagnosis"></textarea>
												<button mat-button *ngIf="diagnosis.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('diagnosis').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Diagnosis info is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Diagnosis Info</strong>
												</mat-hint>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<textarea matInput rows="2" placeholder="Reason for visit" #reasonForVisit formControlName="reasonForVisit"></textarea>
												<button mat-button *ngIf="reasonForVisit.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('reasonForVisit').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Reason For Visit is
													<strong>required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong class="required-star">Reason For Visit</strong>
												</mat-hint>
											</mat-form-field>
										</div>
									</div>

									<div class="row">
										<div class="col-md-12 heading-wrapper mt-4">
											<div class="title-wrapper">
												<h5>Services</h5>
											</div>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text" placeholder="Service" aria-label="Number"
													   matInput #serviceId [matAutocomplete]="serviceAuto"
													   [formControlName]="'serviceId'" (focusout)="controlFocusout('serviceId')">
												<button mat-button *ngIf="serviceId.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('serviceId').setValue('');">
													<mat-icon>close</mat-icon>
												</button>
												<mat-autocomplete autoActiveFirstOption #serviceAuto="matAutocomplete"
																  [displayWith]="displayFn"
																  (closed)="serviceDrpClosed()">
													<mat-option *ngFor="let t of filteredServices | async" [value]="t">
														{{t.value}}
													</mat-option>
												</mat-autocomplete>
												<mat-hint align="start">
													<strong class="required-star">Service </strong>
												</mat-hint>
												<mat-error>
													Service is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="example-full-width">
												<input type="text" placeholder="Professional"
													   aria-label="Number" matInput #professionalId
													   [matAutocomplete]="professionalAuto"
													   [formControlName]="'professionalId'" (focusout)="controlFocusout('professionalId')">
												<button mat-button *ngIf="professionalId.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('professionalId').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-autocomplete autoActiveFirstOption #professionalAuto="matAutocomplete"
																  [displayWith]="displayFn"
																  (closed)="professionalDrpClosed()">
													<mat-option *ngFor="let t of filteredProfessionals | async" [value]="t">
														{{t.value}}
													</mat-option>
												</mat-autocomplete>
												<mat-hint align="start">
													<strong class="required-star">Professional </strong>
												</mat-hint>
												<mat-error>
													Professional is
													<strong>required</strong>
												</mat-error>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div class="row">
												<div class="col-md-3">
													<mat-radio-group class="example-radio-group" formControlName="isPtFeeA1" (change)="updateAccountings()">
														<mat-radio-button class="example-radio-button" value="1">A1</mat-radio-button>
														<mat-radio-button class="example-radio-button" value="0">A2</mat-radio-button>
													</mat-radio-group>
												</div>
												<div class="col-md-9">
													<mat-form-field *ngIf="bookingForm.get('isPtFeeA1') != null && bookingForm.get('isPtFeeA1').value === '1'">
														<input type="number" matInput placeholder="PT Fee" #ptFeeA1 formControlName="ptFeeA1" min="0" (change)="updateAccountings()">
														<button mat-button *ngIf="ptFeeA1.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('ptFeeA1').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-hint align="start">
															<strong class="required-star">PT Fee A1</strong>
														</mat-hint>
														<mat-error>
															PT Fee A1
															<strong>required</strong>
														</mat-error>
													</mat-form-field>

													<mat-form-field *ngIf="bookingForm.get('isPtFeeA1') != null && bookingForm.get('isPtFeeA1').value === '0'">
														<input type="number" matInput placeholder="PT Fee" #ptFeeA2 formControlName="ptFeeA2" min="0" (change)="updateAccountings()">
														<button mat-button *ngIf="ptFeeA2.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('ptFeeA2').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-hint align="start">
															<strong class="required-star">PT Fee A2</strong>
														</mat-hint>
														<mat-error>
															PT Fee A2
															<strong>required</strong>
														</mat-error>
													</mat-form-field>
												</div>
											</div>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<div class="row">
												<div class="col-md-3">
													<mat-radio-group class="example-radio-group" formControlName="isProFeeA1">
														<mat-radio-button class="example-radio-button" value="1">A1</mat-radio-button>
														<mat-radio-button class="example-radio-button" value="0">A2</mat-radio-button>
													</mat-radio-group>
												</div>
												<div class="col-md-9">
													<mat-form-field *ngIf="bookingForm.get('isProFeeA1') != null && bookingForm.get('isProFeeA1').value === '1'">
														<input type="number" matInput placeholder="PRO Fee" #proFeeA1 formControlName="proFeeA1" min="0">
														<button mat-button *ngIf="proFeeA1.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('proFeeA1').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-hint align="start">
															<strong class="required-star">PRO Fee A1</strong>
														</mat-hint>
														<mat-error>
															PRO Fee A1
															<strong>required</strong>
														</mat-error>
													</mat-form-field>

													<mat-form-field *ngIf="bookingForm.get('isProFeeA1') != null && bookingForm.get('isProFeeA1').value === '0'">
														<input type="number" matInput placeholder="PRO Fee" #proFeeA2 formControlName="proFeeA2" min="0">
														<button mat-button *ngIf="proFeeA2.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('proFeeA2').setValue('')">
															<mat-icon>close</mat-icon>
														</button>
														<mat-hint align="start">
															<strong class="required-star">PRO Fee A2</strong>
														</mat-hint>
														<mat-error>
															PRO Fee A2
															<strong>required</strong>
														</mat-error>
													</mat-form-field>
												</div>
											</div>
										</div>




										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3" [hidden]="!timedService">
											<mat-form-field>
												<input type="number" matInput placeholder="Quantity (hours)" #quantityHours [formControlName]="'quantityHours'" min="0" max="50" (change)="updateAccountings()">
												<button mat-button *ngIf="quantityHours.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('quantityHours').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-hint align="start">
													Select <strong class="required-star">Quantity Hours </strong>
												</mat-hint>
												<mat-error *ngIf="bookingForm.get('quantityHours').errors?.required">
													Quantity Hours are
													<strong>required</strong>
												</mat-error>
												<mat-error *ngIf="bookingForm.get('quantityHours').errors?.min || bookingForm.get('quantityHours').errors?.max">
													Please enter a value between <strong>1 and 50</strong>
												</mat-error>
											</mat-form-field>
										</div>

										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<mat-form-field class="mat-form-field-fluid">
												<input matInput type="text" placeholder="Item Name on Invoice" #itemNameOnInvoice formControlName="itemNameOnInvoice">
												<button mat-button *ngIf="itemNameOnInvoice.value" matSuffix mat-icon-button aria-label="Clear" (click)="bookingForm.get('itemNameOnInvoice').setValue('')">
													<mat-icon>close</mat-icon>
												</button>
												<mat-error>
													Item Name on Invoice is
													<strong class="required-star">required</strong>
												</mat-error>
												<mat-hint align="start">
													<strong>Item Name on Invoice</strong>
												</mat-hint>
											</mat-form-field>
										</div>



										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<p class="m-0">&nbsp;</p>
											<label class="font-500">Tax Type (%) : </label> {{bookingForm.get('taxType').value}}
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<p class="m-0">&nbsp;</p>
											<label class="font-500">Sub Total : </label> {{bookingForm.get('subTotal').value}}
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<p class="m-0">&nbsp;</p>
											<label class="font-500">Tax Amount (Â£) : </label> {{bookingForm.get('taxAmount').value}}
										</div>
										<div class="col-md-4 kt-margin-bottom-10-mobile pt-3">
											<p class="m-0">&nbsp;</p>
											<label class="font-500">Gross Total (Â£) : </label> {{bookingForm.get('grossTotal').value}}
										</div>
									</div>

								</div>
							</div>
						</form>
					</div>
				</kt-portlet-body>
			</ng-template>
		</mat-tab>
		<mat-tab label="Cycle" [disabled]='booking && booking.id ===0 ' title="Cycle">
			<ng-template matTabContent>
				<booking-connected-bookings [bookingId]="booking.id"></booking-connected-bookings>
			</ng-template>
		</mat-tab>

		<mat-tab label="Connected Professionals" [disabled]='booking && booking.id ===0 ' title="Connected Professionals">
			<ng-template matTabContent>
				<booking-connected-professionals [bookingId]="booking.id"></booking-connected-professionals>
			</ng-template>
		</mat-tab>

		<mat-tab label="Invoices" [disabled]='booking && booking.id ===0 ' title="Invoices">
			<ng-template matTabContent>
				<booking-connected-invoices [bookingId]="booking.id"></booking-connected-invoices>
			</ng-template>
		</mat-tab>

	</mat-tab-group>
</kt-portlet>
